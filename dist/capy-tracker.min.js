var CapyTracker=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="/",e(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(2),u=r(4),s=r(6),c=n(s),f=r(8);t.exports=function(){function t(e){if(o(this,t),this.props={},!e||!e.target)throw new Error("Target object is obligatory");this.props.target=e.target,this.props.api=e.api,this.props.time=e.time||!1}return i(t,[{key:"getCurrentSession",value:function(){var t=this.props.target.localStorage.getItem("capy-tracker-session");return(0,a.fromNullable)(t)}},{key:"start",value:function(){var t=this,e=function(){var e=(0,u.v4)();return t.props.target.localStorage.setItem("capy-tracker-session",e),(0,a.Just)(e)};this.getCurrentSession().orElse(e).chain(function(e){(0,a.fromNullable)(t.props.api).chain(function(e){(0,f.post)(e,{type:"SESSION",data:t.collectData()})})}),this.time&&this.trackTime()}},{key:"trackTime",value:function(){var t=this,e=Date.now();this.props.target.onbeforeunload=function(){var r=Date.now()-e;(0,a.fromNullable)(t.props.api).chain(function(t){(0,f.post)(t,{type:"DURATION",data:r})})}}},{key:"stop",value:function(){this.props.target.localStorage.removeItem("capy-tracker-session")}},{key:"collectData",value:function(){var t=this.props.target.location;return{url:{hostname:t.hostname,pathname:t.pathname},date:Date.now(),browser:{name:c.name,version:c.version}}}}]),t}()},function(t,e,r){t.exports=r(3)},function(t,e){function r(){}function n(t){this.value=t}function o(){}t.exports=r;var i=Object.create,a=function(){throw new Error("Not implemented.")},u=function(){return this};n.prototype=i(r.prototype),o.prototype=i(r.prototype),r.Nothing=function(){return new o},r.prototype.Nothing=r.Nothing,r.Just=function(t){return new n(t)},r.prototype.Just=r.Just,r.fromNullable=function(t){return null!=t?new n(t):new o},r.prototype.fromNullable=r.fromNullable,r.fromEither=function(t){return t.fold(r.Nothing,r.Just)},r.prototype.fromEither=r.fromEither,r.fromValidation=r.fromEither,r.prototype.fromValidation=r.fromEither,r.prototype.isNothing=!1,o.prototype.isNothing=!0,r.prototype.isJust=!1,n.prototype.isJust=!0,r.of=function(t){return new n(t)},r.prototype.of=r.of,r.prototype.ap=a,o.prototype.ap=u,n.prototype.ap=function(t){return t.map(this.value)},r.prototype.map=a,o.prototype.map=u,n.prototype.map=function(t){return this.of(t(this.value))},r.prototype.chain=a,o.prototype.chain=u,n.prototype.chain=function(t){return t(this.value)},r.prototype.toString=a,o.prototype.toString=function(){return"Maybe.Nothing"},n.prototype.toString=function(){return"Maybe.Just("+this.value+")"},r.prototype.isEqual=a,o.prototype.isEqual=function(t){return t.isNothing},n.prototype.isEqual=function(t){return t.isJust&&t.value===this.value},r.prototype.get=a,o.prototype.get=function(){throw new TypeError("Can't extract the value of a Nothing.")},n.prototype.get=function(){return this.value},r.prototype.getOrElse=a,o.prototype.getOrElse=function(t){return t},n.prototype.getOrElse=function(t){return this.value},r.prototype.orElse=a,o.prototype.orElse=function(t){return t()},n.prototype.orElse=function(t){return this},r.prototype.cata=a,o.prototype.cata=function(t){return t.Nothing()},n.prototype.cata=function(t){return t.Just(this.value)},r.prototype.toJSON=a,o.prototype.toJSON=function(){return{"#type":"folktale:Maybe.Nothing"}},n.prototype.toJSON=function(){return{"#type":"folktale:Maybe.Just",value:this.value}}},function(t,e,r){function n(t,e,r){var n=e&&r||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=c[t])});o<16;)e[n+o++]=0;return e}function o(t,e){var r=e||0,n=s;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}function i(t,e,r){var n=e&&r||0,i=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:h,u=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:y+1,c=u-d+(s-y)/1e4;if(c<0&&void 0===t.clockseq&&(a=a+1&16383),(c<0||u>d)&&void 0===t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=u,y=s,h=a,u+=122192928e5;var f=(1e4*(268435455&u)+s)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var p=u/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=255&p,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var m=t.node||l,v=0;v<6;v++)i[n+v]=m[v];return e?e:o(i)}function a(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||u)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var a=0;a<16;a++)e[n+a]=i[a];return e||o(i)}for(var u=r(5),s=[],c={},f=0;f<256;f++)s[f]=(f+256).toString(16).substr(1),c[s[f]]=f;var p=u(),l=[1|p[0],p[1],p[2],p[3],p[4],p[5]],h=16383&(p[6]<<8|p[7]),d=0,y=0,m=a;m.v1=i,m.v4=a,m.parse=n,m.unparse=o,t.exports=m},function(t,e){(function(e){var r;if(e.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);r=function(){return crypto.getRandomValues(n),n}}if(!r){var o=new Array(16);r=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=r}).call(e,function(){return this}())},function(t,e,r){var n=r(7);t.exports=n(navigator.userAgent)},function(t,e){t.exports=function(t){function e(e){return e.concat(e[1].exec(t))}function r(t){return!!t[2]}var n=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/iPad.*Version\/([0-9\._]+)/],["ios",/iPhone.*Version\/([0-9\._]+)/],["safari",/Version\/([0-9\._]+).*Safari/]],o=0,i=[];for(o=0;o<n.length;o++)n[o]=e(n[o]),r(n[o])&&i.push(n[o]);for(var a=i[0],u=a&&a[3].split(/[._]/).slice(0,3);u&&u.length<3;)u.push("0");return{name:a&&a[0],version:u&&u.join(".")}}},function(t,e,r){t.exports=r(9)},function(t,e,r){"use strict";function n(t){var e=new a(t),r=i(a.prototype.request,e);return o.extend(r,a.prototype,e),o.extend(r,e),r}var o=r(10),i=r(11),a=r(12),u=t.exports=n();u.Axios=a,u.create=function(t){return n(t)},u.all=function(t){return Promise.all(t)},u.spread=r(30)},function(t,e,r){"use strict";function n(t){return"[object Array]"===S.call(t)}function o(t){return"[object ArrayBuffer]"===S.call(t)}function i(t){return"undefined"!=typeof FormData&&t instanceof FormData}function a(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function u(t){return"string"==typeof t}function s(t){return"number"==typeof t}function c(t){return"undefined"==typeof t}function f(t){return null!==t&&"object"==typeof t}function p(t){return"[object Date]"===S.call(t)}function l(t){return"[object File]"===S.call(t)}function h(t){return"[object Blob]"===S.call(t)}function d(t){return"[object Function]"===S.call(t)}function y(t){return f(t)&&d(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function w(t,e){if(null!==t&&"undefined"!=typeof t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(null,t[i],i,t)}function x(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=x(e[r],t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)w(arguments[r],t);return e}function E(t,e,r){return w(e,function(e,n){r&&"function"==typeof e?t[n]=b(e,r):t[n]=e}),t}var b=r(11),S=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:o,isFormData:i,isArrayBufferView:a,isString:u,isNumber:s,isObject:f,isUndefined:c,isDate:p,isFile:l,isBlob:h,isFunction:d,isStream:y,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:w,merge:x,extend:E,trim:v}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";function n(t){this.defaults=i.merge(o,t),this.interceptors={request:new a,response:new a}}var o=r(13),i=r(10),a=r(15),u=r(16),s=r(28),c=r(29);n.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(o,this.defaults,{method:"get"},t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url));var e=[u,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head"],function(t){n.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=n},function(t,e,r){"use strict";function n(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o=r(10),i=r(14),a=/^\)\]\}',?\n/,u={"Content-Type":"application/x-www-form-urlencoded"};t.exports={transformRequest:[function(t,e){return i(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(a,"");try{t=JSON.parse(t)}catch(e){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:o.merge(u),post:o.merge(u),put:o.merge(u)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}}},function(t,e,r){"use strict";var n=r(10);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";function n(){this.handlers=[]}var o=r(10);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},function(t,e,r){(function(e){"use strict";var n=r(10),o=r(18);t.exports=function(t){t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var i;return"function"==typeof t.adapter?i=t.adapter:"undefined"!=typeof XMLHttpRequest?i=r(19):"undefined"!=typeof e&&(i=r(19)),Promise.resolve(t).then(i).then(function(e){return e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse)),Promise.reject(e)})}}).call(e,r(17))},function(t,e){function r(t){if(s===setTimeout)return setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function n(t){if(c===clearTimeout)return clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function o(){h&&p&&(h=!1,p.length?l=p.concat(l):d=-1,l.length&&i())}function i(){if(!h){var t=r(o);h=!0;for(var e=l.length;e;){for(p=l,l=[];++d<e;)p&&p[d].run();d=-1,e=l.length}p=null,h=!1,n(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var s,c,f=t.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(t){c=function(){throw new Error("clearTimeout is not defined")}}}();var p,l=[],h=!1,d=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new a(t,e)),1!==l.length||h||r(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(10);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){(function(e){"use strict";var n=r(10),o=r(20),i=r(23),a=r(24),u=r(25),s=r(21),c="undefined"!=typeof window&&window.btoa||r(26);t.exports=function(t){return new Promise(function(f,p){var l=t.data,h=t.headers;n.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest,y="onreadystatechange",m=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||u(t.url)||(d=new window.XDomainRequest,y="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";h.Authorization="Basic "+c(v+":"+g)}if(d.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[y]=function(){if(d&&(4===d.readyState||m)&&0!==d.status){var e="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?d.response:d.responseText,n={data:r,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:t,request:d};o(f,p,n),d=null}},d.onerror=function(){p(s("Network Error",t)),d=null},d.ontimeout=function(){p(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED")),d=null},n.isStandardBrowserEnv()){var w=r(27),x=t.withCredentials||u(t.url)?w.read(t.xsrfCookieName):void 0;x&&(h[t.xsrfHeaderName]=x)}if("setRequestHeader"in d&&n.forEach(h,function(t,e){"undefined"==typeof l&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(E){if("json"!==d.responseType)throw E}"function"==typeof t.progress&&("post"===t.method||"put"===t.method?d.upload.addEventListener("progress",t.progress):"get"===t.method&&d.addEventListener("progress",t.progress)),void 0===l&&(l=null),d.send(l)})}}).call(e,r(17))},function(t,e,r){"use strict";var n=r(21);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r)):t(r)}},function(t,e,r){"use strict";var n=r(22);t.exports=function(t,e,r,o){var i=new Error(t);return n(i,e,r,o)}},function(t,e){"use strict";t.exports=function(t,e,r,n){return t.config=e,r&&(t.code=r),t.response=n,t}},function(t,e,r){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=r(10);t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(o.isURLSearchParams(e))i=e.toString();else{var a=[];o.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(o.isArray(t)&&(e+="[]"),o.isArray(t)||(t=[t]),o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))}))}),i=a.join("&")}return i&&(t+=(t.indexOf("?")===-1?"?":"&")+i),t}},function(t,e,r){"use strict";var n=r(10);t.exports=function(t){var e,r,o,i={};return t?(n.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+r:r)}),i):i}},function(t,e,r){"use strict";var n=r(10);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return r&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var e,r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return e=t(window.location.href),function(r){var o=n.isString(r)?t(r):r;return o.protocol===e.protocol&&o.host===e.host}}():function(){return function(){return!0}}()},function(t,e){"use strict";function r(){this.message="String contains an invalid character"}function n(t){for(var e,n,i=String(t),a="",u=0,s=o;i.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&e>>8-u%1*8)){if(n=i.charCodeAt(u+=.75),n>255)throw new r;e=e<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=n},function(t,e,r){"use strict";var n=r(10);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,r,o,i,a){var u=[];u.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(i)&&u.push("domain="+i),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}]);